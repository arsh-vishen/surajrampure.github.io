
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title> Total Variation Distance – A Walkthrough </title>
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      
      <div id="titlearea">
        <h2>Total Variation Distance – A Walkthrough</h2>
      </div>
      <div id="contentarea"><div class="cell markdown-cell"><h4>Suraj Rampure</h4>
<h5>Data 8, Fall 2017</h5>
<br>
<p align="center"><img src="resources/438053AE4222100F988593760A38A7F0.png" alt="Screen Shot 2017-10-20 at 1.34.42 AM.png" width="197" height="81"></p>
<p><strong>Preface</strong><br>
I totally butchered the lab problem regarding total variation distance, and after I managed to save myself with a half-decent explanation, I decided to write this up to clear any doubts. In this walkthrough, we'll take a look at a hypothesis testing situation whose test statistic is the total variation distance (this problem was taken directly from the TVD discussion worksheet in Fall 2017). We'll also implement the hypothesis test in Python, and look at the results.</p>
<p><br><br><br></p>
<h2>The Problem</h2>
<p><em>This is how the problem was worded in the discussion worksheet.</em></p>
<p>As a student fed up with wait times at office hours, you scout out the number of people in office hours from 11-12, 12-1, and 1-2, with the hope of figuring out which has the fewest number of people. You see the following number of students in B6 Evans:</p>
<table>
<thead>
<tr>
<th>OH Time</th>
<th>Number of Students</th>
</tr>
</thead>
<tbody>
<tr>
<td>11-12</td>
<td>250</td>
</tr>
<tr>
<td>12-1</td>
<td>300</td>
</tr>
<tr>
<td>1-2</td>
<td>200</td>
</tr>
</tbody>
</table>
<p>You see that 1-2 has the fewest number of people and wonder if that’s the best time to come. Being a cunning Data 8 student, you wonder whether or not these differences might just be due to chance.</p>
<p><strong>We will now go over how to use the concept of total variation distance to run a hypothesis test on this situation.</strong></p>
<p><br><br></p>
<h2>Total Variation Distance – A Definition</h2>
<p>From <a href="https://www.inferentialthinking.com/chapters/16/1/two-categorical-distributions.html">the course textbook</a>, total variation distance is used to quantify how different two categorical distributions are. In our case, the "categories" are the times 11-12, 12-1 and 1-2. Note that total variation distance is only valid for proportions, i.e. fractions between 0 and 1.</p>
<p>The definition of total variation distance for two categorical distributions <span class="MathJax" id="MathJax-Element-37-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-504" style="width: 1.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.689em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.844em, -0.558em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-505"><span class="mi" id="MathJax-Span-506" style="font-family: STIXGeneral-Italic;">A</span><span class="mo" id="MathJax-Span-507" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-508" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">B</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.023em; vertical-align: -0.219em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-37">A, B</script> with <span class="MathJax" id="MathJax-Element-38-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-509" style="width: 0.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.507em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.493em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-510"><span class="mi" id="MathJax-Span-511" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.625em; vertical-align: -0.072em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-38">n</script> categories is<br>
</p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-39-Frame" style=""><nobr><span class="math" id="MathJax-Span-512" style="width: 20.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 18.581em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(2.154em, 1000em, 5.567em, -0.507em); top: -4.11em; left: 0em;"><span class="mrow" id="MathJax-Span-513"><span class="mtext" id="MathJax-Span-514" style="font-family: STIXGeneral-Regular;">total variation distance</span><span class="mo" id="MathJax-Span-515" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-516" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.627em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.396em); top: -3.21em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-517" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.478em); top: -1.848em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-518" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.627em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mrow" id="MathJax-Span-519" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-520" style="vertical-align: -0.778em; padding-left: 0.188em;"><span style="font-family: STIXSizeFourSym;">(</span></span><span class="munderover" id="MathJax-Span-521"><span style="display: inline-block; position: relative; width: 1.351em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0em;"><span class="mo" id="MathJax-Span-522" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">∑</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.585em, -0.472em); top: -1.159em; left: 0.113em;"><span class="texatom" id="MathJax-Span-523"><span class="mrow" id="MathJax-Span-524"><span class="mi" id="MathJax-Span-525" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-526" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-527" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.728em, 1000em, 2.484em, -0.497em); top: -3.509em; left: 0.479em;"><span class="mi" id="MathJax-Span-528" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-529" style="padding-left: 0.188em;"><span class="mrow" id="MathJax-Span-530"><span class="mo" id="MathJax-Span-531" style="vertical-align: 0.925em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -2.837em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-532"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.703em, -0.558em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-533" style="font-family: STIXGeneral-Italic;">A</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.619em;"><span class="mi" id="MathJax-Span-534" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-535" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-536" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-537" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.619em;"><span class="mi" id="MathJax-Span-538" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-539"><span class="mrow" id="MathJax-Span-540"><span class="mo" id="MathJax-Span-541" style="vertical-align: 0.925em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -2.837em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-542" style="vertical-align: -0.778em;"><span style="font-family: STIXSizeFourSym;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.11em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.538em; vertical-align: -1.492em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-39">\text{total variation distance} = \frac{1}{2} \left(\sum_{i = 1}^n \big| A_i - B_i \big|\right)</script><p></p>
<p>In terms of code, this is:</p>
<pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">def</span> <span class="ace_identifier">tvd</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">a</span>, <span class="ace_identifier">b</span><span class="ace_paren ace_rparen">)</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment"># Assumes a, b are numpy arrays</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">return</span> <span class="ace_support ace_function">sum</span><span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">abs</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">a</span><span class="ace_keyword ace_operator">-</span><span class="ace_identifier">b</span><span class="ace_paren ace_rparen">))</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">2</span>
</div></div></div></pre>
<p>We'll look at a concrete example of this in just a minute, so don't worry if the formula doesn't make a whole lot of sense.</p>
<p><br><br></p>
<h2>The Approach</h2>
<h3>The Hypotheses</h3>
<p>As with all hypothesis tests, we need hypotheses. In this case, a fitting <strong>null hypothesis</strong> is that the number of students at each of the three office hour slots is distributed uniformly at random – i.e., there is a <span class="MathJax" id="MathJax-Element-40-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-543" style="width: 0.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.788em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.133em, 1000em, 2.768em, -0.507em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-544"><span class="mfrac" id="MathJax-Span-545"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-546" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -1.915em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-547" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.565em; vertical-align: -0.51em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-40">\frac{1}{3}</script> chance that a student attends the 11-12 slot, a <span class="MathJax" id="MathJax-Element-40-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-543" style="width: 0.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.788em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.133em, 1000em, 2.768em, -0.507em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-544"><span class="mfrac" id="MathJax-Span-545"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-546" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -1.915em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-547" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.565em; vertical-align: -0.51em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-40">\frac{1}{3}</script> chance that a student attends the 12-1 slot, and a <span class="MathJax" id="MathJax-Element-40-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-543" style="width: 0.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.788em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.133em, 1000em, 2.768em, -0.507em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-544"><span class="mfrac" id="MathJax-Span-545"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-546" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -1.915em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-547" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.565em; vertical-align: -0.51em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-40">\frac{1}{3}</script> chance that a student attends the 1-2 slot.  From now on, for simplicity sake, I will refer to this distribution as <span class="MathJax" id="MathJax-Element-41-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-548" style="width: 4.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.223em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.471em, 1000em, 3.106em, -0.419em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-549"><span class="mo" id="MathJax-Span-550" style="font-family: STIXGeneral-Regular;">[</span><span class="mfrac" id="MathJax-Span-551"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-552" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -1.915em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-553" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-554" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">,</span><span class="mfrac" id="MathJax-Span-555" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-556" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -1.915em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-557" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-558" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">,</span><span class="mfrac" id="MathJax-Span-559" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-560" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -1.915em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-561" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-562" style="font-family: STIXGeneral-Regular;">]</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.565em; vertical-align: -0.51em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-41">[\frac{1}{3}, \frac{1}{3}, \frac{1}{3}]</script>, and will refer to other distributions similarly.</p>
<p>A fitting <strong>alternative hypothesis</strong> that the total variation distance sets us up to calculate is that the number of students in each office hour slot is not distributed randomly at uniform. That's all we can say.</p>
<p><br><br></p>
<h3>Finding the Test Statistic of the Observation</h3>
<p>Let's call <code>tvd_observed</code> the total variation distance between our observed distribution and the null distribution. More specifically:</p>
<pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">null_distribution</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">make_array</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">1</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">3</span>, <span class="ace_constant ace_numeric">1</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">3</span>, <span class="ace_constant ace_numeric">1</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">observed_distribution</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">make_array</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">250</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">750</span>, <span class="ace_constant ace_numeric">300</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">750</span>, <span class="ace_constant ace_numeric">200</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">750</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">tvd_observed</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">tvd</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">null_distribution</span>, <span class="ace_identifier">observed_distribution</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></pre>
<p>Notice that we were able to find the observed distribution by taking the number of students in each OH slot and dividing by the total number of students (750). If we wanted to calculate the TVD by hand, we'd compute the following:</p>
<p></p><div class="MathJax_Display" role="textbox" aria-readonly="true"><span class="MathJax" id="MathJax-Element-42-Frame" style=""><nobr><span class="math" id="MathJax-Span-563" style="width: 100%; display: inline-block; min-width: 31.391em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(5.502em, 1000em, 12.005em, -0.507em); top: -7.151em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-564"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(2.349em, 1000em, 5.147em, -0.507em); top: -3.998em; left: 50%; margin-left: -14.081em;"><span class="msubsup" id="MathJax-Span-565"><span style="display: inline-block; position: relative; width: 7.845em; height: 0px;"><span style="position: absolute; clip: rect(1.703em, 1000em, 2.714em, -0.507em); top: -2.534em; left: 0em;"><span class="mtext" id="MathJax-Span-566" style="font-family: STIXGeneral-Regular;">TVD</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 2.14em;"><span class="texatom" id="MathJax-Span-567"><span class="mrow" id="MathJax-Span-568"><span class="mtext" id="MathJax-Span-569" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">observed, expected</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-570" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-571" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.627em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.396em); top: -3.21em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-572" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.478em); top: -1.848em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-573" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.627em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mrow" id="MathJax-Span-574" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-575" style="vertical-align: -0.586em; padding-left: 0.188em;"><span style="font-family: STIXSizeThreeSym;">(</span></span><span class="mrow" id="MathJax-Span-576"><span class="mo" id="MathJax-Span-577" style="vertical-align: 1.365em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -1.958em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -2.633em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-578"><span style="display: inline-block; position: relative; width: 0.627em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.396em); top: -3.21em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-579" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.689em, 1000em, 2.717em, -0.466em); top: -1.848em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-580" style="font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.627em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-581" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mfrac" id="MathJax-Span-582" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.64em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.677em, 1000em, 2.717em, -0.478em); top: -3.21em; left: 50%; margin-left: -0.76em;"><span class="mn" id="MathJax-Span-583" style="font-family: STIXGeneral-Regular;">250</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.677em, 1000em, 2.717em, -0.487em); top: -1.848em; left: 50%; margin-left: -0.76em;"><span class="mn" id="MathJax-Span-584" style="font-family: STIXGeneral-Regular;">750</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.64em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-585" style="vertical-align: 1.365em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -1.958em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -2.633em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-586" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mrow" id="MathJax-Span-587" style="padding-left: 0.25em;"><span class="mo" id="MathJax-Span-588" style="vertical-align: 1.353em; padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -1.982em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -2.645em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-589"><span style="display: inline-block; position: relative; width: 0.627em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.396em); top: -3.21em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-590" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.689em, 1000em, 2.717em, -0.466em); top: -1.848em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-591" style="font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.627em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-592" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mfrac" id="MathJax-Span-593" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.64em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.717em, -0.466em); top: -3.21em; left: 50%; margin-left: -0.76em;"><span class="mn" id="MathJax-Span-594" style="font-family: STIXGeneral-Regular;">300</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.677em, 1000em, 2.717em, -0.487em); top: -1.848em; left: 50%; margin-left: -0.76em;"><span class="mn" id="MathJax-Span-595" style="font-family: STIXGeneral-Regular;">750</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.64em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-596" style="vertical-align: 1.353em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -1.982em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -2.645em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-597" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mrow" id="MathJax-Span-598" style="padding-left: 0.25em;"><span class="mo" id="MathJax-Span-599" style="vertical-align: 1.353em; padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -1.982em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -2.645em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-600"><span style="display: inline-block; position: relative; width: 0.627em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.396em); top: -3.21em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-601" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.689em, 1000em, 2.717em, -0.466em); top: -1.848em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-602" style="font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.627em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-603" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mfrac" id="MathJax-Span-604" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.64em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.717em, -0.478em); top: -3.21em; left: 50%; margin-left: -0.76em;"><span class="mn" id="MathJax-Span-605" style="font-family: STIXGeneral-Regular;">200</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.677em, 1000em, 2.717em, -0.487em); top: -1.848em; left: 50%; margin-left: -0.76em;"><span class="mn" id="MathJax-Span-606" style="font-family: STIXGeneral-Regular;">750</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.64em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-607" style="vertical-align: 1.353em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -1.982em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -2.645em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-608" style="vertical-align: -0.586em;"><span style="font-family: STIXSizeThreeSym;">)</span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(2.476em, 1000em, 4.853em, -0.507em); top: -1.181em; left: 50%; margin-left: -14.145em;"><span class="mspace" id="MathJax-Span-609" style="height: 0em; vertical-align: 0em; width: 0em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-610" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-611" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.627em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.396em); top: -3.21em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-612" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.478em); top: -1.848em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-613" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.627em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mrow" id="MathJax-Span-614" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-615" style="vertical-align: -0.246em; padding-left: 0.17em;"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">(</span></span></span><span class="texatom" id="MathJax-Span-616"><span class="mrow" id="MathJax-Span-617"><span class="mo" id="MathJax-Span-618" style="vertical-align: 0.925em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -2.837em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mn" id="MathJax-Span-619" style="font-family: STIXGeneral-Regular;">0.33333</span><span class="mo" id="MathJax-Span-620" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mn" id="MathJax-Span-621" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">0.33333</span><span class="texatom" id="MathJax-Span-622"><span class="mrow" id="MathJax-Span-623"><span class="mo" id="MathJax-Span-624" style="vertical-align: 0.925em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -2.837em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-625" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="texatom" id="MathJax-Span-626" style="padding-left: 0.25em;"><span class="mrow" id="MathJax-Span-627"><span class="mo" id="MathJax-Span-628" style="vertical-align: 0.925em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -2.837em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mn" id="MathJax-Span-629" style="font-family: STIXGeneral-Regular;">0.33333</span><span class="mo" id="MathJax-Span-630" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mn" id="MathJax-Span-631" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">0.4</span><span class="texatom" id="MathJax-Span-632"><span class="mrow" id="MathJax-Span-633"><span class="mo" id="MathJax-Span-634" style="vertical-align: 0.925em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -2.837em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-635" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="texatom" id="MathJax-Span-636" style="padding-left: 0.25em;"><span class="mrow" id="MathJax-Span-637"><span class="mo" id="MathJax-Span-638" style="vertical-align: 0.925em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -2.837em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mn" id="MathJax-Span-639" style="font-family: STIXGeneral-Regular;">0.33333</span><span class="mo" id="MathJax-Span-640" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mn" id="MathJax-Span-641" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">0.26667</span><span class="texatom" id="MathJax-Span-642"><span class="mrow" id="MathJax-Span-643"><span class="mo" id="MathJax-Span-644" style="vertical-align: 0.925em;"><span style="display: inline-block; position: relative; width: 0.266em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.308em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -2.837em; left: 0em;">∣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-645" style="vertical-align: -0.246em;"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.145em, 1000em, 4.181em, -0.507em); top: 0.673em; left: 50%; margin-left: -2.624em;"><span class="mspace" id="MathJax-Span-646" style="height: 0em; vertical-align: 0em; width: 0em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-647" style="font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-648" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">0.0666666</span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 7.151em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 6.968em; vertical-align: -5.263em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-42">\text{TVD}_{\text{observed, expected}} = \frac{1}{2} \left( \left|\frac{1}{3} - \frac{250}{750} \right| + \left|\frac{1}{3} - \frac{300}{750} \right| + \left|\frac{1}{3} - \frac{200}{750} \right|  \right) \\ = \frac{1}{2} \left(\big|0.33333 - 0.33333 \big| + \big|0.33333 - 0.4 \big| + \big|0.33333 - 0.26667 \big| \right) \\ = 0.0666666</script><p></p>
<p><br><br></p>
<h3>Establishing a Sampling Method</h3>
<p>Now, the <strong>p-value that we will simulate for</strong> is the <strong>probability of seeing a TVD greater than or equal to <code>tvd_observed</code></strong>. After all, we're searching for the probability of seeing something as or more extreme (in the direction of the alternate hypothesis) than the observed, assuming the null hypothesis is true. For the sake of our sample, we are assuming the null hypothesis is true – we're going to sample from <code>null_distribution</code>.</p>
<p>On each of our <code>num_trials</code> trials, <strong>we'll draw from the null distribution 750 times.</strong><br>
<img src="resources/CA45204F519CCD75F285D90640BA9E94.png" alt="10000trials.png" width="504" height="120"><br>
From there, for each trial, we can find the sample TVD. This will give us a list of <code>num_trials</code> TVDs, each of which we can compare to <code>tvd_observed</code>. From there, we can calculate our <code>p_value</code> and decide what to do with the null hypothesis. Let's do it!<br>
<br></p>
<h3>Code</h3>
<p><em>For your convenience, I've placed all code necessary for this simulation in the block below, even if it was already defined above. You can follow along by copying everything below into a new Jupyter notebook cell.</em></p>
<pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">from</span> <span class="ace_identifier">datascience</span> <span class="ace_keyword">import</span> <span class="ace_keyword ace_operator">*</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">import</span> <span class="ace_identifier">numpy</span> <span class="ace_keyword">as</span> <span class="ace_identifier">np</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">def</span> <span class="ace_identifier">tvd</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">a</span>, <span class="ace_identifier">b</span><span class="ace_paren ace_rparen">)</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment"># Assumes a, b are numpy arrays</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_keyword">return</span> <span class="ace_support ace_function">sum</span><span class="ace_paren ace_lparen">(</span><span class="ace_support ace_function">abs</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">a</span><span class="ace_keyword ace_operator">-</span><span class="ace_identifier">b</span><span class="ace_paren ace_rparen">))</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">2</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">null_distribution</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">make_array</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">1</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">3</span>, <span class="ace_constant ace_numeric">1</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">3</span>, <span class="ace_constant ace_numeric">1</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">3</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">observed_distribution</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">make_array</span><span class="ace_paren ace_lparen">(</span><span class="ace_constant ace_numeric">250</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">750</span>, <span class="ace_constant ace_numeric">300</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">750</span>, <span class="ace_constant ace_numeric">200</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">750</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">observed_tvd</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">tvd</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">null_distribution</span>, <span class="ace_identifier">observed_distribution</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">oh_slots</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">[</span><span class="ace_string">"11-12"</span>, <span class="ace_string">"12-1"</span>, <span class="ace_string">"1-2"</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">num_trials</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_constant ace_numeric">10000</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">sampled_tvds</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">make_array</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">for</span> <span class="ace_identifier">i</span> <span class="ace_keyword">in</span> <span class="ace_identifier">np</span>.<span class="ace_identifier">arange</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">num_trials</span><span class="ace_paren ace_rparen">)</span>:
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">students</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">np</span>.<span class="ace_identifier">random</span>.<span class="ace_identifier">choice</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">oh_slots</span>, <span class="ace_constant ace_numeric">750</span><span class="ace_paren ace_rparen">)</span> <span class="ace_comment"># Samples uniformly at random from oh_slots 750 times</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_comment"># Note that np.count_nonzero(students == "x-y") is some number between 0 and 750</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">eleven_twelve</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">np</span>.<span class="ace_identifier">count_nonzero</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">students</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">"11-12"</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">750</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">twelve_one</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">np</span>.<span class="ace_identifier">count_nonzero</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">students</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">"12-1"</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">750</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">one_two</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">np</span>.<span class="ace_identifier">count_nonzero</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">students</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string">"1-2"</span><span class="ace_paren ace_rparen">)</span><span class="ace_keyword ace_operator">/</span><span class="ace_constant ace_numeric">750</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment"># Finds the distribution of the current sample</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">current_distribution</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">make_array</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">eleven_twelve</span>, <span class="ace_identifier">twelve_one</span>, <span class="ace_identifier">one_two</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment"># Finds the TVD of the current sample and the null distribution – this is our test statistic</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">current_tvd</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">tvd</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">current_distribution</span>, <span class="ace_identifier">null_distribution</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_comment"># Adds the current TVD to the list of all sampled TVDs</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_identifier">sampled_tvds</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">np</span>.<span class="ace_identifier">append</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">sampled_tvds</span>, <span class="ace_identifier">current_tvd</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment"># sampled_tvds is now an array with num_trials (10000) elements, each of which is a TVD of a sample</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_comment"># We now need to count the number of times these sampled TVDs were &gt;= observed_tvd, and divide by num_trials</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">p_value</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">np</span>.<span class="ace_identifier">count_nonzero</span><span class="ace_paren ace_lparen">(</span><span class="ace_identifier">sampled_tvds</span> <span class="ace_keyword ace_operator">&gt;=</span> <span class="ace_identifier">observed_tvd</span><span class="ace_paren ace_rparen">)</span> <span class="ace_keyword ace_operator">/</span> <span class="ace_identifier">num_trials</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div></div></div></pre>
<p><br><br></p>
<h3>Analysis and Conclusion</h3>
<p>After the <code>for</code> loop, we were left with the array <code>sampled_tvds</code>, which contained 10000 elements – one TVD for each of the 10000 trials. We then find our p-value by finding the number of times the sampled TVD was "as or more extreme in the direction of the alternative hypothesis than the observed TVD", i.e. greater than equal to <code>observed_tvd</code>, and dividing this by <code>num_trials</code>. Upon doing so, we yield:</p><br>
<p></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-43-Frame" style=""><nobr><span class="math" id="MathJax-Span-649" style="width: 7.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.151em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.908em, -0.582em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-650"><span class="mi" id="MathJax-Span-651" style="font-family: STIXGeneral-Italic;">p</span><span class="mtext" id="MathJax-Span-652" style="font-family: STIXGeneral-Regular;">-value</span><span class="mo" id="MathJax-Span-653" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-654" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">0.0002</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.111em; vertical-align: -0.29em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-43">p\text{-value} = 0.0002</script><p></p>
<br>
<p>This means that the probability of seeing the observed distribution of students in office hours – the original table provided in the question – assuming that the null is true is <span class="MathJax" id="MathJax-Element-44-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-655" style="width: 2.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.534em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.659em, 1000em, 2.722em, -0.483em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-656"><span class="mn" id="MathJax-Span-657" style="font-family: STIXGeneral-Regular;">0.02</span><span class="mi" id="MathJax-Span-658" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.93em; vertical-align: -0.084em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-44">0.02\%</script>. Using any reasonable p-value cutoff – typically <span class="MathJax" id="MathJax-Element-45-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-659" style="width: 1.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.295em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.659em, 1000em, 2.722em, -0.396em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-660"><span class="mn" id="MathJax-Span-661" style="font-family: STIXGeneral-Regular;">1</span><span class="mi" id="MathJax-Span-662" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.93em; vertical-align: -0.084em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-45">1\%</script> or <span class="MathJax" id="MathJax-Element-46-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-663" style="width: 1.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.295em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.659em, 1000em, 2.722em, -0.476em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-664"><span class="mn" id="MathJax-Span-665" style="font-family: STIXGeneral-Regular;">5</span><span class="mi" id="MathJax-Span-666" style="font-family: STIXGeneral-Regular;">%</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.93em; vertical-align: -0.084em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-46">5\%</script> – we would reject the null hypothesis.<br>
<br></p>
<p>Let's look at that result graphically. Using the following code:</p>
<pre><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword">from</span> <span class="ace_identifier">matplotlib</span> <span class="ace_keyword">import</span> <span class="ace_identifier">pyplot</span> <span class="ace_keyword">as</span> <span class="ace_identifier">plt</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">%</span><span class="ace_identifier">matplotlib</span> <span class="ace_identifier">inline</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">Table</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>.<span class="ace_identifier">with_column</span><span class="ace_paren ace_lparen">(</span><span class="ace_string">"Sampled TVDs"</span>, <span class="ace_identifier">sampled_tvds</span><span class="ace_paren ace_rparen">)</span>.<span class="ace_identifier">hist</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">plt</span>.<span class="ace_identifier">plot</span><span class="ace_paren ace_lparen">([</span><span class="ace_identifier">observed_tvd</span><span class="ace_paren ace_rparen">]</span>, <span class="ace_paren ace_lparen">[</span><span class="ace_constant ace_numeric">0.3</span><span class="ace_paren ace_rparen">]</span>, <span class="ace_identifier">marker</span><span class="ace_keyword ace_operator">=</span><span class="ace_string">'o'</span>, <span class="ace_identifier">markersize</span><span class="ace_keyword ace_operator">=</span><span class="ace_constant ace_numeric">3</span>, <span class="ace_identifier">color</span><span class="ace_keyword ace_operator">=</span><span class="ace_string">"red"</span><span class="ace_paren ace_rparen">)</span>
</div></div></div></pre>
<p>we can generate a histogram of our test statistics (TVDs):</p>
<p align="center"><img src="resources/82FBD113344D139520707B2EFA5D3A4B.png" alt="Screen Shot 2017-10-20 at 1.34.00 AM.png" width="500" height="345"></p>
<p>The red dot corresponds to the test statistic of our observation. Clearly, very, very few sampled TVDs fall to the right of this dot, meaning that the probability of our observation occurring the null is very low.<br>
<br></p>
<p>This means that we can conclude that the distribution of students in each office hour time slot isn't uniformly at random – i.e., the students don't appear in office hours following the distribution <span class="MathJax" id="MathJax-Element-41-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-548" style="width: 4.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.223em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.471em, 1000em, 3.106em, -0.419em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-549"><span class="mo" id="MathJax-Span-550" style="font-family: STIXGeneral-Regular;">[</span><span class="mfrac" id="MathJax-Span-551"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-552" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -1.915em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-553" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-554" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">,</span><span class="mfrac" id="MathJax-Span-555" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-556" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -1.915em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-557" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-558" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">,</span><span class="mfrac" id="MathJax-Span-559" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-560" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.487em, -0.478em); top: -1.915em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-561" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-562" style="font-family: STIXGeneral-Regular;">]</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.565em; vertical-align: -0.51em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-41">[\frac{1}{3}, \frac{1}{3}, \frac{1}{3}]</script>.</p>
<p><br><br></p>
<h3>If you'd like to download the notebook containing the code to this walkthrough, click <a href="tvd_demo.ipynb">here</a>.</h3>
<p>If you have any questions or have any corrections, please send me an email at <a href="mailto:suraj.rampure@berkeley.edu">suraj.rampure@berkeley.edu</a>.</p>
</div></div>
      <script></script>
    </body>
    </html>
  